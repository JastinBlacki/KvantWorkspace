{% load static %}
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    {% include "SystemModule/HeadSetup/index.html" %}
    <link rel='stylesheet' href='{% static "SystemModule/icons/files/file-icons.css" %}'/>
    <link rel="stylesheet" href="{% static 'ProfileApp/PortfolioPage/style.css' %}">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css"/>
    
    <title>Личный кабинет: {{ user.username }}</title>
</head>

<body onload="getMoreAwards()">
    <!-- Навигационное меню -->
    {% include "SystemModule/AsideMenu/index.html" %}
    
    <section class="profilePage mainContainer">
        <div class="profilePage__menu">
            <section class="menu">
                <button class="menu__button" onclick="location.href='{% url "profile_page" user.id %}'">
                    <svg viewBox="0 0 18 18">
                        <g transform="translate(-3 -3)">
                            <path fill='#20d489' d="M12,11a4,4,0,1,1,4-4A4,4,0,0,1,12,11Z" opacity="0.3"/>
                            <path fill='#20d489' d="M3,20.2c.388-4.773,4.261-7.2,8.983-7.2C16.771,13,20.7,15.293,21,20.2a.687.687,0,0,1-.751.8H3.727A1.107,1.107,0,0,1,3,20.2Z"/>
                        </g>
                    </svg> 
                    <p>Профиль</p>
                </button>
                <button class="menu__button active" onclick="location.href='{% url "portfolio_page" user.id %}'">
                    <svg viewBox="0 0 576 512">
                        <path fill='#20d489' opacity="0.3" d="M192 432c-35.3 0-64 20.7-64 56v12a12 12 0 0 0 12 12h296a12 12 0 0 0 12-12v-12c0-35.3-28.7-56-64-56z"></path>
                        <path fill='#20d489' d="M552 64H448V24a23.94 23.94 0 0 0-23.88-24H152a23.94 23.94 0 0 0-24 23.88V64H24A23.94 23.94 0 0 0 0 87.88V144c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h96v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88a23.94 23.94 0 0 0-23.88-24H552zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2a359 359 0 0 0 12.8 86.2 160.91 160.91 0 0 1-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8a161.68 161.68 0 0 1-41.8 21.4 359 359 0 0 0 12.8-86.2H512z"></path>
                    </svg>
                    <p>Портфолио</p>
                </button>
                <button class="menu__button" onclick="location.href='{% url "statistic_page" user.id %}'">
                    <svg viewBox="0 0 18 16">
                        <g transform="translate(-3 -4)">
                          <rect fill='#20d489' opacity="0.3" width="3" height="16" rx="1.5" transform="translate(13 4)"/>
                          <rect fill='#20d489' width="3" height="11" rx="1.5" transform="translate(8 9)"/>
                          <rect fill='#20d489' width="3" height="9" rx="1.5" transform="translate(18 11)"/>
                          <rect fill='#20d489' width="3" height="7" rx="1.5" transform="translate(3 13)"/>
                        </g>
                    </svg> 
                    <p>Статистика</p>
                </button>
            </section>
            <button class="dangerButton" onclick="location.href='{% url "logout_user" user.id %}'">
                <svg viewBox="0 0 512 512">
                    <path opacity='0.6' d="M180 448H96a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96h84a12 12 0 0 1 12 12v40a12 12 0 0 1-12 12H96a32 32 0 0 0-32 32v192a32 32 0 0 0 32 32h84a12 12 0 0 1 12 12v40a12 12 0 0 1-12 12z"></path>
                    <path d="M353 88.3l151.9 150.6a24 24 0 0 1 0 34.1l-152 150.8a24.08 24.08 0 0 1-33.9-.1l-21.9-21.9a24.07 24.07 0 0 1 .8-34.7l77.6-71.1H184a23.94 23.94 0 0 1-24-24v-32a23.94 23.94 0 0 1 24-24h191.5l-77.6-71.1a24 24 0 0 1-.7-34.6l21.9-21.9a24 24 0 0 1 33.9-.1z"></path>
                </svg>
                Выйти из аккаунта
            </button>
        </div>
        <div class="profilePage__tabs">
            <div class="profilePage__tab active" id='portfolioTab'>
                <div class="galleryBox" id='portfolio_container'>
                    <!-- Спавн грамот -->
                </div>
            </div>
        </div>
        
    </section>
    
    <!-- jquery -->
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script>
    {% include "SystemModule/ScriptsSetup/index.html" %}
    <script>
        let page = 1;
        function getMoreAwards(){
            $.ajax({
                type: "GET",
                url: '{% url "get_awards" user.id %}' + `?page=${page}`,
                cache: false,
                success: function(response){
                    console.log(response)
                    $('#portfolio_container').append(response);
                }
            })
        }
    </script>
</body>

</html>